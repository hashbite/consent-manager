"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5912],{9902:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>c,toc:()=>m});var o=n(2322),a=n(5392),i=n(9270);const r={id:"matomo",title:"Matomo Integration"},s=void 0,c={id:"integrations/matomo",title:"Matomo Integration",description:"- Source code//github.com/hashbite/consent-manager/tree/main/packages/integration-matomo",source:"@site/docs/integrations/matomo.md",sourceDirName:"integrations",slug:"/integrations/matomo",permalink:"/consent-manager/docs/integrations/matomo",draft:!1,unlisted:!1,editUrl:"https://github.com/hashbite/consent-manager/edit/master/packages/docs/docs/integrations/matomo.md",tags:[],version:"current",frontMatter:{id:"matomo",title:"Matomo Integration"},sidebar:"someSidebar",previous:{title:"Mapbox Integration",permalink:"/consent-manager/docs/integrations/mapbox"},next:{title:"Segment Integration",permalink:"/consent-manager/docs/integrations/segment"}},l={},m=[{value:"Default Matomo Integration",id:"default-matomo-integration",level:2},{value:"Privacy-Aware Matomo Integration",id:"privacy-aware-matomo-integration",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Tracking API",id:"tracking-api",level:2},{value:"Example Usage with <code>react-router</code>",id:"example-usage-with-react-router",level:3}];function g(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components},{IntegrationProfile:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("IntegrationProfile",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Source code: ",(0,o.jsx)(t.a,{href:"https://github.com/hashbite/consent-manager/tree/main/packages/integration-matomo",children:"https://github.com/hashbite/consent-manager/tree/main/packages/integration-matomo"})]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"https://matomo.org/google-analytics-alternative/",children:"Matomo"})," is a robust, open-source alternative to SAAS tracking solutions like Google Analytics. It offers full data control and can be configured for GDPR-friendly implementation."]}),"\n",(0,o.jsxs)(t.p,{children:["The Consent Manager's Matomo integration is available in two variants: a standard version and a privacy-aware version that should be used only if your ",(0,o.jsx)(t.a,{href:"https://matomo.org/cookie-consent-banners/",children:"Matomo instance is privacy-aware"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"default-matomo-integration",children:"Default Matomo Integration"}),"\n",(0,o.jsx)(n,{integration:(0,i.matomoIntegration)({})}),"\n",(0,o.jsx)(t.h2,{id:"privacy-aware-matomo-integration",children:"Privacy-Aware Matomo Integration"}),"\n",(0,o.jsxs)(t.p,{children:["Ensure your ",(0,o.jsx)(t.a,{href:"https://matomo.org/cookie-consent-banners/",children:"Matomo instance is privacy-aware"})," before using this variant."]}),"\n",(0,o.jsx)(n,{integration:(0,i.matomoPrivacyAwareIntegration)({})}),"\n",(0,o.jsx)(t.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"matomoURL: The URL of your Matomo installation"}),"\n",(0,o.jsx)(t.li,{children:"siteID: ID of the page set up in Matomo"}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"tracking-api",children:"Tracking API"}),"\n",(0,o.jsxs)(t.p,{children:["The Matomo integration exposes a tracking API with functions to simplify page view and event tracking. The ",(0,o.jsx)(t.code,{children:"getMatomoTracker"})," function provides methods such as ",(0,o.jsx)(t.code,{children:"trackPageViewSPA"})," for single-page applications and ",(0,o.jsx)(t.code,{children:"trackEvent"})," for event tracking."]}),"\n",(0,o.jsxs)(t.h3,{id:"example-usage-with-react-router",children:["Example Usage with ",(0,o.jsx)(t.code,{children:"react-router"})]}),"\n",(0,o.jsxs)(t.p,{children:["This example demonstrates using the Matomo tracking API with ",(0,o.jsx)(t.code,{children:"react-router"})," for tracking page views and events:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:"import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { getMatomoTracker } from '@consent-manager/integration-matomo';\n\nfunction App() {\n  const location = useLocation();\n  const { trackPageViewSPA, trackEvent } = getMatomoTracker();\n\n  useEffect(() => {\n    // Track page view for SPA\n    if (trackPageViewSPA) {\n      trackPageViewSPA({\n        location,\n        prevLocation: window.prevLocation,\n      });\n      window.prevLocation = location;\n    }\n\n    // Track a custom event\n    if (trackEvent){\n      trackEvent('Category', 'Action', 'Label');\n    }\n  }, [location, trackPageViewSPA, trackEvent]);\n\n  // Your application content\n  return (\n    // ...\n  );\n}\n\nexport default App;\n"})})]})}function d(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(g,{...e})}):g(e)}}}]);